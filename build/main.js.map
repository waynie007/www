{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/tabs/tabs.ts","../../src/pages/admin/admin.ts","../../src/providers/pusher/pusher.ts","../../src/pages/home/home.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/components/map/map.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 173;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 173\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 217;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 217\n// module chunks = 0","import { Component } from '@angular/core';\n\nimport { AdminPage } from '../admin/admin';\nimport { HomePage } from '../home/home';\n\n@Component({\n  templateUrl: 'tabs.html',\n})\nexport class TabsPage {\n  tab1Root = HomePage;\n  tab2Root = AdminPage;\n\n  constructor() {}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Component, OnInit } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { PusherProvider } from '../../providers/pusher/pusher';\nimport { Platform } from 'ionic-angular';\nimport { PhonegapLocalNotification } from '@ionic-native/phonegap-local-notification';\n\ndeclare const google;\n@Component({\n  selector: 'page-admin',\n  templateUrl: 'admin.html',\n})\nexport class AdminPage implements OnInit {\n  constructor(\n    public navCtrl: NavController,\n    private pusher: PusherProvider,\n    private platform: Platform,\n    private localNotification: PhonegapLocalNotification\n  ) {\n    if (platform.is('cordova')) {\n      platform.ready().then((_) => {\n        this.localNotification.requestPermission().then((perm) => {\n          if (perm === 'granted') this.permissionGranted = true;\n        });\n      });\n    }\n  }\n\n  tab = 'location';\n  notifications = [];\n  center = {\n    lat: 6.435838,\n    lng: 3.451384,\n  };\n  permissionGranted = false;\n  address = '';\n\n  reverseGeocode(latLng) {\n    const geocoder = new google.maps.Geocoder();\n    geocoder.geocode({ location: latLng }, (results, status) => {\n      if (status === 'OK') {\n        if (results[0]) {\n          const address = results[0].formatted_address;\n          const addressList = address.split(',');\n          this.address = addressList[0];\n        }\n      }\n    });\n  }\n\n  ngOnInit() {\n    const locationChannel = this.pusher.init('location');\n    const geofenceChannel = this.pusher.init('location');\n\n    locationChannel.bind('ping', (data) => {\n      this.center = {\n        ...data,\n      };\n    });\n\n    geofenceChannel.bind('exit', (data) => {\n      this.reverseGeocode(data);\n\n      if (this.permissionGranted) {\n        this.localNotification.create('Geofence exited', {\n          tag: 'message1',\n          body: 'User has exited the defined geofence',\n          icon: 'assets/imgs/user.svg',\n        });\n      }\n      const notification = {\n        header: 'User has exited the geofence',\n        body: `Current location: ${this.address}`,\n      };\n\n      this.notifications = this.notifications.concat(notification);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin/admin.ts","import { Injectable } from '@angular/core';\nimport Pusher from 'pusher-js';\n\n@Injectable()\nexport class PusherProvider {\n  constructor() {\n    this.pusher = new Pusher('PUSHER_KEY', {\n      cluster: 'eu',\n      encrypted: true,\n    });\n  }\n  channel;\n  pusher;\n\n  public init(channelName) {\n    const channel = this.pusher.subscribe(channelName);\n    return channel;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/pusher/pusher.ts","import { Component, OnInit } from '@angular/core';\nimport { NavController, Platform } from 'ionic-angular';\nimport { MapsAPILoader } from '@agm/core';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { HttpClient } from '@angular/common/http';\nimport { Geofence } from '@ionic-native/geofence';\n\ndeclare const google;\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html',\n})\nexport class HomePage implements OnInit {\n  constructor(\n    public navCtrl: NavController,\n    private loader: MapsAPILoader,\n    private geolocation: Geolocation,\n    private http: HttpClient,\n    private geofence: Geofence,\n    private platform: Platform\n  ) {\n    if (this.platform.is('cordova')) {\n      this.platform.ready().then((_) => {\n        geofence.initialize().then((_) => {\n          console.log('Geofence Plugin Ready');\n        });\n      });\n    }\n  }\n  // center = {\n  //   lat: 6.435838,\n  //   lng: 3.451384,\n  // };\n  center = {\n    lat: 6.4393477,\n    lng: 3.5244628999999996,\n  };\n  zoom = 15;\n  address = '';\n  state = '';\n\n  private createGeofence() {\n    let fence = {\n      id: '69ca1b88-6fbe-4e80-a4d4-ff4d3748acdb', //any unique ID\n      latitude: this.center.lat, //center of geofence radius\n      longitude: this.center.lng,\n      radius: 1000, //radius to edge of geofence in meters\n      transitionType: 2,\n    };\n\n    this.geofence\n      .addOrUpdate(fence)\n      .then(\n        () => console.log('Geofence added'),\n        (err) => console.log('Geofence failed to add', err)\n      );\n    this.geofence.onTransitionReceived().subscribe((res) => {\n      this.notify(this.center);\n    });\n  }\n\n  reverseGeocode(latLng) {\n    const geocoder = new google.maps.Geocoder();\n    geocoder.geocode({ location: latLng }, (results, status) => {\n      if (status === 'OK') {\n        if (results[0]) {\n          const address = results[0].formatted_address;\n          const addressList = address.split(',');\n          this.address = addressList[0];\n          this.state = addressList.slice(2).join(', ');\n        }\n      }\n    });\n  }\n\n  pingLocation(location) {\n    this.http\n      .post('http://localhost:4000/ping', location)\n      .subscribe((res) => {});\n  }\n\n  notify(location) {\n    this.http\n      .post('http://localhost:4000/notify', location)\n      .subscribe((res) => {});\n  }\n\n  ngOnInit() {\n    this.loader.load().then(() => {\n      this.reverseGeocode(this.center);\n      this.pingLocation(this.center);\n    });\n    this.platform.ready().then(() => {\n      if (this.platform.is('cordova')) {\n        this.createGeofence();\n        const watch = this.geolocation.watchPosition();\n        watch.subscribe((position) => {\n          console.table(position);\n          this.center = {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude,\n          };\n          this.reverseGeocode(this.center);\n          this.pingLocation(this.center);\n        });\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { AgmCoreModule } from '@agm/core';\n\nimport { MyApp } from './app.component';\n\nimport { AdminPage } from '../pages/admin/admin';\nimport { HomePage } from '../pages/home/home';\nimport { TabsPage } from '../pages/tabs/tabs';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { MapComponent } from '../components/map/map';\nimport { PusherProvider } from '../providers/pusher/pusher';\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\nimport { Geofence } from '@ionic-native/geofence';\nimport { PhonegapLocalNotification } from '@ionic-native/phonegap-local-notification';\n\n@NgModule({\n  declarations: [MyApp, AdminPage, HomePage, TabsPage, MapComponent],\n  imports: [\n    BrowserModule,\n    AgmCoreModule.forRoot({\n      // please get your own API key here:\n      // https://developers.google.com/maps/documentation/javascript/get-api-key?hl=en\n      apiKey: 'AIzaSyDHubkW4VfwS6qQ68Dz9_3BDFc8N39uEnM',\n      libraries: ['geometry'],\n    }),\n    HttpClientModule,\n    IonicModule.forRoot(MyApp),\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [MyApp, AdminPage, HomePage, TabsPage],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    Geolocation,\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n    PusherProvider,\n    HttpClient,\n    Geofence,\n    PhonegapLocalNotification,\n  ],\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { TabsPage } from '../pages/tabs/tabs';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = TabsPage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { Component, Input } from '@angular/core';\n\n/**\n * Generated class for the MapComponent component.\n *\n * See https://angular.io/api/core/Component for more info on Angular\n * Components.\n */\n@Component({\n  selector: 'map',\n  templateUrl: 'map.html',\n})\nexport class MapComponent {\n  text: string;\n\n  constructor() {}\n\n  @Input()\n  center = {\n    lat: 6.435838,\n    lng: 3.451384,\n  };\n  @Input() zoom = 15;\n  radiusCenter = {\n    lat: 6.435838,\n    lng: 3.451384,\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/map/map.ts"],"sourceRoot":""}